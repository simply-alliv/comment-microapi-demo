(this["webpackJsonpcomments-api-demo"]=this["webpackJsonpcomments-api-demo"]||[]).push([[0],{282:function(e,t,a){e.exports=a(558)},287:function(e,t,a){},327:function(e,t){},329:function(e,t){},339:function(e,t){},341:function(e,t){},366:function(e,t){},368:function(e,t){},369:function(e,t){},375:function(e,t){},377:function(e,t){},395:function(e,t){},398:function(e,t){},414:function(e,t){},417:function(e,t){},422:function(e,t){},424:function(e,t){},447:function(e,t){},558:function(e,t,a){"use strict";a.r(t);var n,l=a(0),o=a.n(l),c=a(19),r=a.n(c),m=a(45),i=(a(287),a(6)),s=a(22),d=a(590),u=a(612),E=a(613),p=a(615),y=a(598),f=a(599),g=a(597),C=a(168),b=a(592),v=a(594),O=a(596),I=a(595),T=Object(d.a)((function(){return{root:{backgroundColor:"#FAFAFA"}}})),h=function(e){var t=e.reply,a=T();return o.a.createElement(b.a,{variant:"outlined",className:a.root},o.a.createElement(v.a,null,o.a.createElement(C.a,{variant:"h6"},t.replyId.slice(0,7)),o.a.createElement(C.a,{variant:"body2"},t.content),o.a.createElement(C.a,{variant:"caption",color:"textSecondary"},x(t.createdAt)),o.a.createElement(p.a,{pt:2}),o.a.createElement(I.a,null),o.a.createElement(p.a,{pt:2,display:"flex",justifyContent:"space-between"},o.a.createElement(p.a,{display:"flex",alignItems:"center"},o.a.createElement(p.a,{display:"flex",alignItems:"center",pr:2},o.a.createElement(C.a,{color:"textSecondary"},"Upvotes "),o.a.createElement(p.a,{pr:1}),o.a.createElement(C.a,null,"".concat(t.numOfUpVotes))),o.a.createElement(p.a,{display:"flex",alignItems:"center"},o.a.createElement(C.a,{color:"textSecondary"},"Downvotes"),o.a.createElement(p.a,{pr:1}),o.a.createElement(C.a,null,"".concat(t.numOfDownVotes)))),o.a.createElement("div",null,t.numOfFlags>0?o.a.createElement(C.a,{variant:"caption",color:"error"},"Flagged"):null))))},S=Object(d.a)((function(){return{root:{width:"100%"}}})),R=function(e){var t=e.comment,a=e.replies,n=S();return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,null,o.a.createElement(v.a,null,o.a.createElement(C.a,{variant:"h6"},t.commentId.slice(0,7)),o.a.createElement(C.a,{variant:"body2"},t.content),o.a.createElement(C.a,{variant:"caption",color:"textSecondary"},x(t.createdAt)),o.a.createElement(p.a,{pt:2}),o.a.createElement(I.a,null),o.a.createElement(p.a,{pt:2,display:"flex",justifyContent:"space-between"},o.a.createElement(p.a,{display:"flex",alignItems:"center"},o.a.createElement(p.a,{display:"flex",alignItems:"center",pr:2},o.a.createElement(C.a,{color:"textSecondary"},"Upvotes "),o.a.createElement(p.a,{pr:1}),o.a.createElement(C.a,null,"".concat(t.numOfUpVotes))),o.a.createElement(p.a,{display:"flex",alignItems:"center"},o.a.createElement(C.a,{color:"textSecondary"},"Downvotes"),o.a.createElement(p.a,{pr:1}),o.a.createElement(C.a,null,"".concat(t.numOfDownVotes)))),o.a.createElement("div",null,t.numOfFlags>0?o.a.createElement(C.a,{variant:"caption",color:"error"},"Flagged"):null)))),o.a.createElement(p.a,{py:2},o.a.createElement(O.a,{container:!0,spacing:2},a.map((function(e){return o.a.createElement(O.a,{item:!0,key:e.replyId,className:n.root},o.a.createElement(h,{reply:e}))})))))},x=function(e){var t=new Date(e),a=Math.floor(((new Date).valueOf()-t.valueOf())/1e3),n=Math.floor(a/31536e3);return n>1?n+" years ago":(n=Math.floor(a/2592e3))>1?n+" months ago":(n=Math.floor(a/86400))>1?n+" days ago":(n=Math.floor(a/3600))>1?n+" hours ago":(n=Math.floor(a/60))>1?n+" minutes ago":Math.floor(a)+" seconds ago"};!function(e){e[e.INIT_STATE=0]="INIT_STATE",e[e.RESET_STATE=1]="RESET_STATE",e[e.SET_SELECTED_COMMENT_DIALOG_OPEN=2]="SET_SELECTED_COMMENT_DIALOG_OPEN",e[e.GET_ALL_COMMENTS=3]="GET_ALL_COMMENTS",e[e.GET_COMMENT=4]="GET_COMMENT",e[e.CREATE_COMMENT=5]="CREATE_COMMENT",e[e.UPDATE_COMMENT=6]="UPDATE_COMMENT",e[e.SET_SELECTED_COMMENT=7]="SET_SELECTED_COMMENT",e[e.UPVOTE_COMMENT=8]="UPVOTE_COMMENT",e[e.DOWNVOTE_COMMENT=9]="DOWNVOTE_COMMENT",e[e.FLAG_COMMENT=10]="FLAG_COMMENT",e[e.DELETE_COMMENT=11]="DELETE_COMMENT",e[e.GET_ALL_REPLIES=12]="GET_ALL_REPLIES",e[e.GET_REPLY=13]="GET_REPLY",e[e.CREATE_REPLY=14]="CREATE_REPLY",e[e.UPDATE_REPLY=15]="UPDATE_REPLY",e[e.SET_SELECTED_REPLY=16]="SET_SELECTED_REPLY",e[e.UPVOTE_REPLY=17]="UPVOTE_REPLY",e[e.DOWNVOTE_REPLY=18]="DOWNVOTE_REPLY",e[e.FLAG_REPLY=19]="FLAG_REPLY",e[e.DELETE_REPLY=20]="DELETE_REPLY"}(n||(n={}));var D,_=n;!function(e){e[e.SET_LOADING=0]="SET_LOADING",e[e.SET_SELECTED_COMMENT_DIALOG_OPEN=1]="SET_SELECTED_COMMENT_DIALOG_OPEN",e[e.RESET_STATE=2]="RESET_STATE",e[e.SET_SELECTED_COMMENT=3]="SET_SELECTED_COMMENT",e[e.ADD_COMMENT=4]="ADD_COMMENT",e[e.ADD_COMMENTS=5]="ADD_COMMENTS",e[e.UPDATE_COMMENT=6]="UPDATE_COMMENT",e[e.UPDATE_COMMENT_UPVOTE=7]="UPDATE_COMMENT_UPVOTE",e[e.UPDATE_COMMENT_DOWNVOTE=8]="UPDATE_COMMENT_DOWNVOTE",e[e.REMOVE_COMMENT=9]="REMOVE_COMMENT",e[e.SET_SELECTED_REPLY=10]="SET_SELECTED_REPLY",e[e.ADD_REPLY=11]="ADD_REPLY",e[e.ADD_REPLIES=12]="ADD_REPLIES",e[e.UPDATE_REPLY=13]="UPDATE_REPLY",e[e.UPDATE_REPLY_UPVOTE=14]="UPDATE_REPLY_UPVOTE",e[e.UPDATE_REPLY_DOWNVOTE=15]="UPDATE_REPLY_DOWNVOTE",e[e.REMOVE_REPLY=16]="REMOVE_REPLY"}(D||(D={}));var M,j=D;!function(e){e.Home="/comment-microapi-demo",e.Comments="/comment-microapi-demo/comments",e.Replies="/comment-microapi-demo/replies"}(M||(M={}));var N=M,k=[{commentId:"5f105031f64edc001eef4abb",replyId:"5f10dca328a306001e18b298",ownerId:"you@gmail.com",content:"Good morning James. That\u2019s right. I will see you then at the Cocoa Cha Chi.",numOfVotes:0,numOfUpVotes:0,numOfDownVotes:0,numOfFlags:0,createdAt:"2020-07-16T22:04:56.945Z",updatedAt:"2020-07-17T17:47:10.895Z"}],L={commentId:"5f105031f64edc001eef4abb",applicationId:"5f0f51f71b6c9f001ec13f88",ownerId:"you@gmail.com",content:"Hey, I hope that you are well. I was just looking to confirm our meeting for 10am sharp this morning. Please get back to me as soon as you get this.",numOfVotes:0,numOfUpVotes:0,numOfDownVotes:0,numOfFlags:0,numOfReplies:1,createdAt:"2020-07-16T13:03:45.782Z",updatedAt:"2020-07-17T18:45:04.551Z"},P=Object(d.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})),A=function(){var e=P();return o.a.createElement("div",{className:e.root},o.a.createElement(g.a,{maxWidth:"sm"},o.a.createElement(p.a,{pt:6},o.a.createElement(C.a,{variant:"h2",align:"center"},"Unleash the Potential of Comments")),o.a.createElement(p.a,{pt:2},o.a.createElement(C.a,{variant:"body1",align:"center"},"The need to elicit public opinions about predefined topics is widespread in the social sciences, government, and business.")),o.a.createElement(p.a,{p:4},o.a.createElement(R,{comment:L,replies:k})),o.a.createElement(p.a,{pb:2,display:"flex",justifyContent:"center"},o.a.createElement(y.a,{component:m.b,to:N.Comments},o.a.createElement(f.a,{variant:"contained",color:"secondary"},"Live Demo")))))},w=a(264),V=a.n(w),Y=a(600),U=a(601),F=a(602),G=function(e){var t=e.currentRoute,a=e.children,n=function(e){return t.path===e?"contained":"outlined"};return o.a.createElement(Y.a,{position:"sticky"},o.a.createElement(U.a,null,o.a.createElement(p.a,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},o.a.createElement(y.a,{component:m.b,to:N.Home},o.a.createElement(F.a,{edge:"start","aria-label":"menu"},o.a.createElement(V.a,null))),o.a.createElement(p.a,{display:"flex"},o.a.createElement(y.a,{component:m.b,to:N.Comments},o.a.createElement(f.a,{variant:n(N.Comments),color:"secondary"},"Comments")),o.a.createElement(p.a,{mx:1}),o.a.createElement(y.a,{component:m.b,to:N.Replies},o.a.createElement(f.a,{variant:n(N.Replies),color:"secondary"},"Replies"))))),a)},W=a(616),z=a(603);var H,Z=function(e){var t=e.tabLabels,a=e.tabValueState,n=Object(i.a)(a,2),l=n[0],c=n[1];return o.a.createElement(W.a,{value:l,onChange:function(e,t){c(t)},variant:"scrollable",scrollButtons:"off","aria-label":"The tabs for the different ".concat(t[0].split(" ")[0].toLowerCase()," functionalities.")},t.map((function(e,t){return o.a.createElement(z.a,Object.assign({key:e,label:e},function(e,t){var a=e.toLowerCase().replace(/\s/,"-");return{id:"".concat(a,"-tab-").concat(t),"aria-controls":"".concat(a,"-tabpanel-").concat(t)}}(e,t)))})))},J=function(e){var t=e.children,a=e.tabIndex,n=e.activeTabIndex,l=e.other;return o.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},l),a===n&&o.a.createElement(p.a,{p:2,mb:7},o.a.createElement(g.a,{maxWidth:"sm"},t)))},B=a(604),Q=function(e){var t=e.endpoints,a=e.heading,n=e.subtitle;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(C.a,{key:e,variant:"body2",align:"center",color:"textSecondary"},e)})),o.a.createElement(p.a,{mt:6},o.a.createElement(C.a,{variant:"h4",align:"center"},a)),o.a.createElement(p.a,{mt:2},o.a.createElement(C.a,{variant:"body1",align:"center"},n)))},X=a(11),q=a(18),K=a.n(q),$=a(128),ee=a(47),te=a(129),ae=a(265),ne=a.n(ae),le=function e(t,a,n,l,o,c,r,m,i,s,d){Object(ee.a)(this,e),this.applicationId=t,this.commentId=a,this.ownerId=n,this.content=l,this.numOfVotes=o,this.numOfUpVotes=c,this.numOfDownVotes=r,this.numOfFlags=m,this.numOfReplies=i,this.createdAt=s,this.updatedAt=d},oe=function e(t,a,n,l,o,c,r,m,i,s){Object(ee.a)(this,e),this.commentId=t,this.replyId=a,this.ownerId=n,this.content=l,this.numOfVotes=o,this.numOfUpVotes=c,this.numOfDownVotes=r,this.numOfFlags=m,this.createdAt=i,this.updatedAt=s},ce=function e(t){Object(ee.a)(this,e),this.path=t},re=function(){function e(){var t;Object(ee.a)(this,e),this.sdkInstance=void 0,this.ownerId="",this.mapDataToComment=function(e){return new le(e.applicationId,e.commentId,e.ownerId,e.content,e.numOfVotes,e.numOfUpVotes,e.numOfDownVotes,e.numOfFlags,e.numOfReplies,e.createdAt,e.updatedAt)},this.mapDataToReply=function(e){return new oe(e.commentId,e.replyId,e.ownerId,e.content,e.numOfVotes,e.numOfUpVotes,e.numOfDownVotes,e.numOfFlags,e.createdAt,e.updatedAt)},this.sdkInstance=new ne.a(null!==(t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbklkIjoiNjAyOWZjZDE0MzY4MzEwMDFlYjlhYzdjIiwiYWRtaW5JZCI6IjYwMjlmYzUwNDM2ODMxMDAxZWI5YWM3YiIsImlhdCI6MTYxMzM2NDQzMywiZXhwIjoxNjE1OTU2NDMzfQ.mCPRhefYU-NKrycrMBO8OKS4LiSy7pjwkT_7xWcPk50")?t:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbklkIjoiNWYwZjUxZjcxYjZjOWYwMDFlYzEzZjg4IiwiYWRtaW5JZCI6IjVmMGY1MWJlMWI2YzlmMDAxZWMxM2Y4NyIsImlhdCI6MTU5NDgzOTU0MywiZXhwIjoxNTk3NDMxNTQzfQ.IbeXp7eBI1E9HleuC1YjkQPa2NrXJoiFX8Is2ZHa6_A"),this.sdkInstance.init()}return Object(te.a)(e,[{key:"initializeState",value:function(){var e=Object($.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.ownerId=t;case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllComments",value:function(e){var t=this;return this.sdkInstance.getAllComments(e).then((function(e){return e.records.map((function(e){return t.mapDataToComment(e)}))}))}},{key:"getSingleComment",value:function(e){var t=this;return this.sdkInstance.getSingleComment(e).then((function(e){return t.mapDataToComment(e.data)}))}},{key:"getSingleCommentVotes",value:function(e){return this.sdkInstance.getCommentVotes(e)}},{key:"createSingleComment",value:function(e){var t=this;return this.sdkInstance.createComment(Object(X.a)(Object(X.a)({},e),{},{ownerId:this.ownerId})).then((function(e){return t.mapDataToComment(e.data)}))}},{key:"updateSingleComment",value:function(e,t){return this.sdkInstance.updateCommentContent(e,Object(X.a)(Object(X.a)({},t),{},{ownerId:this.ownerId}))}},{key:"deleteSingleComment",value:function(e){return this.sdkInstance.deleteSingleComment(e,this.ownerId)}},{key:"upvoteSingleComment",value:function(e){return this.sdkInstance.upvoteSingleComment(e,this.ownerId)}},{key:"downvoteSingleComment",value:function(e){return this.sdkInstance.downvoteSingleComment(e,this.ownerId)}},{key:"flagSingleComment",value:function(e){return this.sdkInstance.flagComment(e,this.ownerId)}},{key:"getAllReplies",value:function(e,t){var a=this;return this.sdkInstance.getAllReplies(e,t).then((function(e){return e.records.map((function(e){return a.mapDataToReply(e)}))}))}},{key:"getSingleReply",value:function(e,t){var a=this;return this.sdkInstance.getSingleReply(e,t).then((function(e){return a.mapDataToReply(e.data)}))}},{key:"getSingleReplyVotes",value:function(e,t){return this.sdkInstance.getReplyVotes(e,t)}},{key:"createSingleReply",value:function(e,t){var a=this;return this.sdkInstance.createReply(e,Object(X.a)(Object(X.a)({},t),{},{ownerId:this.ownerId})).then((function(e){return a.mapDataToReply(e.data)}))}},{key:"updateSingleReply",value:function(e,t,a){return this.sdkInstance.updateReplyContent(e,t,Object(X.a)(Object(X.a)({},a),{},{ownerId:this.ownerId}))}},{key:"deleteSingleReply",value:function(e,t){return this.sdkInstance.deleteSingleReply(e,t)}},{key:"upvoteSingleReply",value:function(e,t){return this.sdkInstance.upvoteSingleReply(e,t,this.ownerId)}},{key:"downvoteSingleReply",value:function(e,t){return this.sdkInstance.downvoteSingleReply(e,t,this.ownerId)}},{key:"flagSingleReply",value:function(e,t){return this.sdkInstance.flagReply(e,t,this.ownerId)}}]),e}(),me=function(){function e(t){Object(ee.a)(this,e),this.dispatch=t}return Object(te.a)(e,[{key:"setSelectedCommentDialogOpen",value:function(e){this.dispatch({type:j.SET_SELECTED_COMMENT_DIALOG_OPEN,payload:{isOpen:e}})}},{key:"addComment",value:function(e){this.dispatch({type:j.ADD_COMMENT,payload:{comment:e}})}},{key:"addComments",value:function(e){this.dispatch({type:j.ADD_COMMENTS,payload:{comments:e}})}},{key:"updateComment",value:function(e){this.dispatch({type:j.UPDATE_COMMENT,payload:{updatedComment:e}})}},{key:"removeComment",value:function(e){this.dispatch({type:j.REMOVE_COMMENT,payload:{commentId:e}})}},{key:"addReply",value:function(e,t){this.dispatch({type:j.ADD_REPLY,payload:{commentId:e,reply:t}})}},{key:"addReplies",value:function(e,t){this.dispatch({type:j.ADD_REPLIES,payload:{commentId:e,replies:t}})}},{key:"updateReply",value:function(e,t){this.dispatch({type:j.UPDATE_REPLY,payload:{commentId:e,updatedReply:t}})}},{key:"removeReply",value:function(e,t){this.dispatch({type:j.REMOVE_REPLY,payload:{commentId:e,replyId:t}})}}]),e}(),ie=new re;ie.initializeState("you@gmail.com");var se=function(e){return function(){var t=Object($.a)(K.a.mark((function t(a){var n,l,o,c,r,m,i,s,d,u,E,p,y,f,g,C,b,v,O,I,T,h,S,R,x,D,M,N,k,L,P,A,w,V,Y,U,F,G,W,z,Z,J,B,Q,X,q,$,ee,te,ae,ne,le,oe,ce;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===H&&(H=new me(e)),t.t0=a.type,t.next=t.t0===_.INIT_STATE?4:t.t0===_.RESET_STATE?23:t.t0===_.SET_SELECTED_COMMENT||t.t0===_.SET_SELECTED_REPLY?36:t.t0===_.GET_ALL_COMMENTS?38:t.t0===_.GET_COMMENT?52:t.t0===_.CREATE_COMMENT?66:t.t0===_.UPDATE_COMMENT?79:t.t0===_.DELETE_COMMENT?95:t.t0===_.UPVOTE_COMMENT?108:t.t0===_.DOWNVOTE_COMMENT?124:t.t0===_.FLAG_COMMENT?140:t.t0===_.GET_ALL_REPLIES?156:t.t0===_.GET_REPLY?170:t.t0===_.CREATE_REPLY?184:t.t0===_.UPDATE_REPLY?202:t.t0===_.DELETE_REPLY?222:t.t0===_.UPVOTE_REPLY?238:t.t0===_.DOWNVOTE_REPLY?255:t.t0===_.FLAG_REPLY?271:288;break;case 4:return de(!0,e),t.prev=5,t.next=8,ie.getAllComments({sort:"desc"});case 8:return n=t.sent,l=[],n.forEach((function(e){l.push(ie.getAllReplies(e.commentId))})),H.addComments(n),t.next=14,Promise.all(l);case 14:(o=t.sent).length>0?o.forEach((function(e){var t;H.addReplies(null===(t=e[0])||void 0===t?void 0:t.commentId,e)})):H.addReplies(void 0,[]),e({type:j.SET_SELECTED_COMMENT,payload:{commentId:n[0].commentId}}),t.next=22;break;case 19:t.prev=19,t.t1=t.catch(5),de(!1,e);case 22:return t.abrupt("break",289);case 23:return de(!0,e),t.prev=24,t.next=27,ie.getAllComments();case 27:t.sent.forEach((function(e){H.removeComment(e.commentId)})),e({type:j.RESET_STATE}),t.next=35;break;case 32:t.prev=32,t.t2=t.catch(24),de(!1,e);case 35:return t.abrupt("break",289);case 36:try{a.type===_.SET_SELECTED_COMMENT&&e({type:j.SET_SELECTED_COMMENT,payload:{commentId:a.payload.commentId}}),a.type===_.SET_SELECTED_REPLY&&e({type:j.SET_SELECTED_REPLY,payload:{replyId:a.payload.replyId}})}catch(K){console.log(K)}return t.abrupt("break",289);case 38:return de(!0,e),t.prev=39,c=a.payload.pageQuery,t.next=43,ie.getAllComments(c);case 43:r=t.sent,H.addComments(r),H.setSelectedCommentDialogOpen(!0),t.next=51;break;case 48:t.prev=48,t.t3=t.catch(39),de(!1,e);case 51:return t.abrupt("break",289);case 52:return de(!0,e),t.prev=53,m=a.payload.commentId,t.next=57,ie.getSingleComment(m);case 57:i=t.sent,H.addComment(i),H.setSelectedCommentDialogOpen(!0),t.next=65;break;case 62:t.prev=62,t.t4=t.catch(53),de(!1,e);case 65:return t.abrupt("break",289);case 66:return de(!0,e),t.prev=67,t.next=70,ie.createSingleComment(a.payload);case 70:s=t.sent,H.addComment(s),H.setSelectedCommentDialogOpen(!0),t.next=78;break;case 75:t.prev=75,t.t5=t.catch(67),de(!1,e);case 78:return t.abrupt("break",289);case 79:return de(!0,e),t.prev=80,d=a.payload,u=d.commentId,E=d.updateCommentDTO,t.next=84,ie.updateSingleComment(u,E);case 84:return t.next=86,ie.getSingleComment(u);case 86:p=t.sent,H.updateComment(p),H.setSelectedCommentDialogOpen(!0),t.next=94;break;case 91:t.prev=91,t.t6=t.catch(80),de(!1,e);case 94:return t.abrupt("break",289);case 95:return de(!0,e),t.prev=96,y=a.payload.commentId,t.next=100,ie.deleteSingleComment(y);case 100:H.removeComment(y),t.next=107;break;case 103:t.prev=103,t.t7=t.catch(96),console.log(t.t7),de(!1,e);case 107:return t.abrupt("break",289);case 108:return de(!0,e),t.prev=109,f=a.payload.commentId,t.next=113,ie.upvoteSingleComment(f);case 113:return t.next=115,ie.getSingleComment(f);case 115:g=t.sent,H.updateComment(g),H.setSelectedCommentDialogOpen(!0),t.next=123;break;case 120:t.prev=120,t.t8=t.catch(109),de(!1,e);case 123:return t.abrupt("break",289);case 124:return de(!0,e),t.prev=125,C=a.payload.commentId,t.next=129,ie.downvoteSingleComment(C);case 129:return t.next=131,ie.getSingleComment(C);case 131:b=t.sent,H.updateComment(b),H.setSelectedCommentDialogOpen(!0),t.next=139;break;case 136:t.prev=136,t.t9=t.catch(125),de(!1,e);case 139:return t.abrupt("break",289);case 140:return de(!0,e),t.prev=141,v=a.payload.commentId,t.next=145,ie.flagSingleComment(v);case 145:return t.next=147,ie.getSingleComment(v);case 147:O=t.sent,H.updateComment(O),H.setSelectedCommentDialogOpen(!0),t.next=155;break;case 152:t.prev=152,t.t10=t.catch(141),de(!1,e);case 155:return t.abrupt("break",289);case 156:return de(!0,e),t.prev=157,I=a.payload,T=I.commentId,h=I.pageQuery,t.next=161,ie.getAllReplies(T,h);case 161:S=t.sent,H.addReplies(T,S),H.setSelectedCommentDialogOpen(!0),t.next=169;break;case 166:t.prev=166,t.t11=t.catch(157),de(!1,e);case 169:return t.abrupt("break",289);case 170:return de(!0,e),t.prev=171,R=a.payload,x=R.commentId,D=R.replyId,t.next=175,ie.getSingleReply(x,D);case 175:M=t.sent,H.addReply(x,M),H.setSelectedCommentDialogOpen(!0),t.next=183;break;case 180:t.prev=180,t.t12=t.catch(171),de(!1,e);case 183:return t.abrupt("break",289);case 184:return de(!0,e),t.prev=185,N=a.payload,k=N.commentId,L=N.createReplyDTO,t.next=189,ie.createSingleReply(k,L);case 189:return P=t.sent,t.next=192,ie.getSingleComment(k);case 192:A=t.sent,H.addReply(k,P),H.updateComment(A),H.setSelectedCommentDialogOpen(!0),t.next=201;break;case 198:t.prev=198,t.t13=t.catch(185),de(!1,e);case 201:return t.abrupt("break",289);case 202:return de(!0,e),t.prev=203,w=a.payload,V=w.commentId,Y=w.replyId,U=w.updateReplyDTO,t.next=207,ie.updateSingleReply(V,Y,U);case 207:return t.next=209,ie.getSingleReply(V,Y);case 209:return F=t.sent,t.next=212,ie.getSingleComment(V);case 212:G=t.sent,H.updateReply(V,F),H.updateComment(G),H.setSelectedCommentDialogOpen(!0),t.next=221;break;case 218:t.prev=218,t.t14=t.catch(203),de(!1,e);case 221:return t.abrupt("break",289);case 222:return de(!0,e),t.prev=223,W=a.payload,z=W.commentId,Z=W.replyId,t.next=227,ie.deleteSingleReply(z,Z);case 227:return t.next=229,ie.getSingleComment(z);case 229:J=t.sent,H.removeReply(z,Z),H.updateComment(J),t.next=237;break;case 234:t.prev=234,t.t15=t.catch(223),de(!1,e);case 237:return t.abrupt("break",289);case 238:return de(!0,e),t.prev=239,B=a.payload,Q=B.commentId,X=B.replyId,t.next=243,ie.upvoteSingleReply(Q,X);case 243:return t.next=245,ie.getSingleReply(Q,X);case 245:q=t.sent,H.updateReply(Q,q),H.setSelectedCommentDialogOpen(!0),t.next=254;break;case 250:t.prev=250,t.t16=t.catch(239),de(!1,e),console.log(t.t16);case 254:return t.abrupt("break",289);case 255:return de(!0,e),t.prev=256,$=a.payload,ee=$.commentId,te=$.replyId,t.next=260,ie.downvoteSingleReply(ee,te);case 260:return t.next=262,ie.getSingleReply(ee,te);case 262:ae=t.sent,H.updateReply(ee,ae),H.setSelectedCommentDialogOpen(!0),t.next=270;break;case 267:t.prev=267,t.t17=t.catch(256),de(!1,e);case 270:return t.abrupt("break",289);case 271:return de(!0,e),t.prev=272,ne=a.payload,le=ne.commentId,oe=ne.replyId,t.next=276,ie.flagSingleReply(le,oe);case 276:return t.next=278,ie.getSingleReply(le,oe);case 278:ce=t.sent,H.updateReply(le,ce),H.setSelectedCommentDialogOpen(!0),t.next=287;break;case 283:t.prev=283,t.t18=t.catch(272),de(!1,e),console.log(t.t18);case 287:return t.abrupt("break",289);case 288:return t.abrupt("return",e(a));case 289:case"end":return t.stop()}}),t,null,[[5,19],[24,32],[39,48],[53,62],[67,75],[80,91],[96,103],[109,120],[125,136],[141,152],[157,166],[171,180],[185,198],[203,218],[223,234],[239,250],[256,267],[272,283]])})));return function(e){return t.apply(this,arguments)}}()},de=function(e,t){t({type:j.SET_LOADING,payload:{loading:e}})},ue={comments:[],replies:[],selectedComment:void 0,selectedCommentReplies:void 0,isSelectedCommentDialogOpen:!1,selectedReply:void 0,commentsLoaded:!1,repliesLoaded:!1,loading:!1},Ee=Object(l.createContext)([ue,function(){return null}]),pe=function(e,t){var a=function(t){return!!e.comments.find((function(e){return e.commentId===t}))},n=function(t,n){var l=void 0;return a(t)&&(l=e.replies.find((function(e){return e.replyId===n}))),!!l};switch(t.type){case j.SET_SELECTED_COMMENT:var l,o=t.payload.commentId,c=Object(X.a)({},e);if((null===(l=e.selectedComment)||void 0===l?void 0:l.commentId)!==o){var r=e.comments.find((function(e){return e.commentId===o})),m=e.replies.filter((function(e){return e.commentId===o}));c=Object(X.a)(Object(X.a)({},e),{},{selectedComment:r,selectedCommentReplies:m})}return c;case j.SET_SELECTED_COMMENT_DIALOG_OPEN:return Object(X.a)(Object(X.a)({},e),{},{isSelectedCommentDialogOpen:t.payload.isOpen});case j.ADD_COMMENT:var i=t.payload.comment;return a(i.commentId)||e.comments.push(i),Object(X.a)(Object(X.a)({},e),{},{selectedComment:i,loading:!1});case j.ADD_COMMENTS:var s=t.payload.comments;return Object(X.a)(Object(X.a)({},e),{},{comments:s,selectedComment:void 0,commentsLoaded:!0,loading:!1});case j.UPDATE_COMMENT:var d=t.payload.updatedComment;return a(d.commentId)&&e.comments.forEach((function(t,a){t.commentId===d.commentId&&e.comments.splice(a,1,d)})),Object(X.a)(Object(X.a)({},e),{},{loading:!1});case j.REMOVE_COMMENT:var u=e.comments.filter((function(e){return e.commentId!==t.payload.commentId}));return Object(X.a)(Object(X.a)({},e),{},{comments:u,selectedComment:void 0,loading:!1});case j.SET_SELECTED_REPLY:var E,p=t.payload.replyId,y=Object(X.a)({},e);if((null===(E=e.selectedReply)||void 0===E?void 0:E.replyId)!==p){var f=e.replies.find((function(e){return e.replyId===p}));y=Object(X.a)(Object(X.a)({},e),{},{selectedReply:f})}return y;case j.ADD_REPLY:var g=t.payload,C=g.commentId,b=g.reply;return n(C,b.replyId)||e.replies.push(b),Object(X.a)(Object(X.a)({},e),{},{selectedReply:b,loading:!1});case j.ADD_REPLIES:var v=t.payload,O=v.commentId,I=v.replies;return O&&I.forEach((function(t){n(O,t.replyId)||e.replies.push(t)})),Object(X.a)(Object(X.a)({},e),{},{repliesLoaded:!0,loading:!1});case j.UPDATE_REPLY:var T=t.payload,h=T.commentId,S=T.updatedReply;return n(h,S.replyId)&&e.replies.forEach((function(t,a){t.replyId===S.replyId&&e.replies.splice(a,1,S)})),Object(X.a)(Object(X.a)({},e),{},{loading:!1});case j.REMOVE_REPLY:var R=t.payload.replyId,x=e.replies.filter((function(e){return e.replyId!==R}));return Object(X.a)(Object(X.a)({},e),{},{replies:x,selectedReply:void 0,loading:!1});case j.SET_LOADING:return Object(X.a)(Object(X.a)({},e),{},{loading:t.payload.loading});case j.RESET_STATE:return ue;default:throw new Error}},ye=function(e){var t=e.children,a=Object(l.useReducer)(pe,ue),n=Object(i.a)(a,2),c=n[0],r=n[1];return Object(l.useEffect)((function(){c.commentsLoaded&&c.repliesLoaded||se(r)({type:_.INIT_STATE})}),[c.commentsLoaded,c.repliesLoaded]),o.a.createElement(Ee.Provider,{value:[c,se(r)]},t)},fe=["POST /comments"],ge=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1],c="";return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:fe,heading:"Create a comment",subtitle:"The first step is to always create the comment."}),o.a.createElement(p.a,{mt:6},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"What are you thinking about? Write it in the box below.")),o.a.createElement(p.a,{display:"flex",flexDirection:"column",mt:1},o.a.createElement(B.a,{rowsMin:5,rowsMax:5,onChange:function(e){c=e.target.value}})),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading,onClick:function(){n({type:_.CREATE_COMMENT,payload:{content:c}})}},a.loading?"Please Wait...":"Create Comment")))},Ce=a(605),be=a(614),ve=a(619),Oe=a(606),Ie=["GET /comments"],Te=Object(d.a)((function(e){return{root:{display:"grid"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),he=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(0),r=Object(i.a)(c,2),m=r[0],s=r[1],d=Object(l.useState)(""),u=Object(i.a)(d,2),E=u[0],y=u[1],g=Object(l.useState)(""),b=Object(i.a)(g,2),v=b[0],I=b[1],T=Object(l.useState)(""),h=Object(i.a)(T,2),S=h[0],R=h[1],x=Object(l.useState)(""),D=Object(i.a)(x,2),M=D[0],j=D[1],N=Object(l.useState)(""),k=Object(i.a)(N,2),L=k[0],P=k[1],A=Te();return o.a.createElement(p.a,null,o.a.createElement(Q,{endpoints:Ie,heading:"GET all comments",subtitle:"Need to get some comments?"}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Need to filter on a list of comments? No problem.")),o.a.createElement(O.a,{container:!0,spacing:2},o.a.createElement(O.a,{className:A.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:A.formControl},o.a.createElement(be.a,{value:m,onChange:function(e){s(e.target.value)},displayEmpty:!0,className:A.selectEmpty,inputProps:{"aria-label":"selected flag state"}},o.a.createElement(ve.a,{value:0},"All"),o.a.createElement(ve.a,{value:1},"Flagged"),o.a.createElement(ve.a,{value:2},"Unflagged")),o.a.createElement(Oe.a,null,"By Flag State"))),o.a.createElement(O.a,{className:A.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:A.formControl},o.a.createElement(be.a,{value:E,onChange:function(e){y(e.target.value)},displayEmpty:!0,className:A.selectEmpty,inputProps:{"aria-label":"selected owner ID"}},o.a.createElement(ve.a,{value:""},"All"),o.a.createElement(ve.a,{value:"you@gmail.com"},"you@gmail.com")),o.a.createElement(Oe.a,null,"By Owner ID"))),o.a.createElement(O.a,{className:A.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:A.formControl},o.a.createElement(be.a,{value:S,onChange:function(e){R(e.target.value)},displayEmpty:!0,className:A.selectEmpty,inputProps:{"aria-label":"selected origin"}},o.a.createElement(ve.a,{value:""},"All")),o.a.createElement(Oe.a,null,"By Origin"))),o.a.createElement(O.a,{className:A.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:A.formControl},o.a.createElement(be.a,{value:v,onChange:function(e){I(e.target.value)},displayEmpty:!0,className:A.selectEmpty,inputProps:{"aria-label":"selected ref ID"}},o.a.createElement(ve.a,{value:""},"All")),o.a.createElement(Oe.a,null,"By Reference ID")))),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Or do you need to sort or paginate on a list of comments? Still not a problem.")),o.a.createElement(O.a,{container:!0,spacing:2},o.a.createElement(O.a,{className:A.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:A.formControl},o.a.createElement(be.a,{value:M,onChange:function(e){j(e.target.value)},displayEmpty:!0,className:A.selectEmpty,inputProps:{"aria-label":"selected sort"}},o.a.createElement(ve.a,{value:""},"None"),o.a.createElement(ve.a,{value:"asc"},"Ascending"),o.a.createElement(ve.a,{value:"desc"},"Descending")),o.a.createElement(Oe.a,null,"Sort"))),o.a.createElement(O.a,{className:A.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:A.formControl},o.a.createElement(be.a,{value:L,onChange:function(e){P(e.target.value)},displayEmpty:!0,className:A.selectEmpty,inputProps:{"aria-label":"selected page"}},o.a.createElement(ve.a,{value:""},"None")),o.a.createElement(Oe.a,null,"Page")))),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:6},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading,onClick:function(){var e,t,a,l,o,c;0!==m&&(e=1===m),""!==E&&(t=E),""!==v&&(a=v),""!==S&&(l=S),""!==M&&(o=M),""!==L&&(c=L),n({type:_.GET_ALL_COMMENTS,payload:{pageQuery:{isFlagged:e,ownerId:t,refId:a,origin:l,sort:o,page:c}}})}},a.loading?"Please Wait...":"Get All Comments")))},Se=Object(d.a)((function(e){return{root:{display:"grid"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Re=function(){var e,t,a=Object(l.useContext)(Ee),n=Object(i.a)(a,2),c=n[0],r=n[1],m=Se();return o.a.createElement(Ce.a,{className:m.formControl},o.a.createElement(be.a,{value:null!==(e=null===(t=c.selectedComment)||void 0===t?void 0:t.commentId)&&void 0!==e?e:"",onChange:function(e){r({type:_.SET_SELECTED_COMMENT,payload:{commentId:e.target.value}})},displayEmpty:!0,className:m.selectEmpty,inputProps:{"aria-label":"selected comment ID"}},c.comments.map((function(e){return o.a.createElement(ve.a,{value:e.commentId,key:e.commentId},e.commentId.slice(0,7))}))),o.a.createElement(Oe.a,null,"Selected Comment"))},xe=["GET /comments/commentId"],De=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(p.a,{mt:12,mb:1},o.a.createElement(Q,{endpoints:xe,heading:"GET single comments",subtitle:"Need to get just one comment?"}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment that you'd like to get.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment,onClick:function(){a.selectedComment&&n({type:_.GET_COMMENT,payload:{commentId:a.selectedComment.commentId}})}},a.loading?"Please Wait...":void 0===a.selectedComment?"No Comment":"Get Comment")))},_e=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(he,null),o.a.createElement(De,null))},Me=["PATCH /comments/:commentId"],je=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(""),r=Object(i.a)(c,2),m=r[0],s=r[1];Object(l.useEffect)((function(){a.selectedComment&&s(a.selectedComment.content)}),[a.selectedComment]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:Me,heading:"Update a comment",subtitle:"Sometimes we need to make some changes."}),o.a.createElement(p.a,{mt:6,mb:1}),o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment that you'd like to update"),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6}),o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"What's changed? Write it in the box below."),o.a.createElement(p.a,{display:"flex",flexDirection:"column",mt:1},o.a.createElement(B.a,{rowsMin:5,rowsMax:5,value:m,onChange:function(e){s(e.target.value)}})),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment,onClick:function(){a.selectedComment&&n({type:_.UPDATE_COMMENT,payload:{commentId:a.selectedComment.commentId,updateCommentDTO:{content:m}}})}},a.loading?"Please Wait...":void 0===a.selectedComment?"No Comment":"Update Comment")))},Ne=["DELETE /comments/:commentId"],ke=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:Ne,heading:"Delete a comment",subtitle:"Then there are those times where deletion is required."}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment you'd like to delete.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment,onClick:function(){a.selectedComment&&n({type:_.DELETE_COMMENT,payload:{commentId:a.selectedComment.commentId}})}},a.loading?"Please Wait...":void 0===a.selectedComment?"No Comment":"Delete Comment")))},Le=["PATCH /comments/:commentId/votes/upvote","PATCH /comments/:commentId/votes/downvote"],Pe=["Upvote","Downvote"],Ae=Object(d.a)((function(){return{root:{width:"100%",display:"grid"}}})),we=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(Pe[0]),r=Object(i.a)(c,2),m=r[0],s=r[1],d=Ae();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:Le,heading:"Vote on a comment",subtitle:"Was a really good comment? Show your appreciation."}),o.a.createElement(p.a,{mt:6,mb:1}),o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment that you'd like to vote on."),o.a.createElement(p.a,{mb:1}),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6}),o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a vote type you'd like to add to a comment."),o.a.createElement(p.a,{mb:1}),o.a.createElement(O.a,{container:!0,spacing:2},Pe.map((function(e){return o.a.createElement(O.a,{className:d.root,item:!0,xs:6,key:e},o.a.createElement(f.a,{variant:m===e?"contained":"outlined",onClick:function(){return s(e)}},e))}))),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment,onClick:function(){var e,t=m===Pe[0]?_.UPVOTE_COMMENT:_.DOWNVOTE_COMMENT;n({type:t,payload:{commentId:null===(e=a.selectedComment)||void 0===e?void 0:e.commentId}})}},a.loading?"Please Wait...":void 0===a.selectedComment?"No Comment":m===Pe[0]?"Upvote Comment":"Downvote Comment")))},Ve=["PATCH /comments/:commentId/flag"],Ye=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:Ve,heading:"Flag a comment",subtitle:"Didn\u2019t like a comment? Do something about it."}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment you'd like to flag.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment,onClick:function(){a.selectedComment&&n({type:_.FLAG_COMMENT,payload:{commentId:a.selectedComment.commentId}})}},a.loading?"Please Wait...":void 0===a.selectedComment?"No Comment":"Flag Comment")))},Ue=a(618),Fe=a(610),Ge=a(608),We=a(609),ze=a(607),He=Object(d.a)({button:{justifyContent:"flex-end"},dialogContentSubtitle:{overflowY:"visible"}}),Ze=function(e){var t=e.isOpen,a=void 0!==t&&t,n=e.handleOk,c=e.title,r=void 0===c?"Title":c,m=e.subtitle,i=void 0===m?"Subtitle":m,s=e.okLabel,d=void 0===s?"Ok":s,u=Object(l.useContext)(Ee)[0],E=He(),y=function(e){return u.replies.filter((function(t){return t.commentId===e}))};return o.a.createElement("div",null,o.a.createElement(Ue.a,{open:a,onClose:n,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},o.a.createElement(ze.a,{id:"scroll-dialog-title"},r),o.a.createElement(Ge.a,{className:E.dialogContentSubtitle},o.a.createElement(We.a,null,i)),o.a.createElement(Ge.a,{dividers:!0},o.a.createElement(We.a,{id:"scroll-dialog-description",tabIndex:-1},u.comments.map((function(e,t){return u.isSelectedCommentDialogOpen&&u.selectedComment?function(){var a;return e.commentId!==(null===(a=u.selectedComment)||void 0===a?void 0:a.commentId)?null:o.a.createElement(p.a,{py:1,key:e.commentId},o.a.createElement(C.a,{variant:"h6"},"Comment ".concat(t+1)),o.a.createElement(p.a,{mb:1}),o.a.createElement(R,{key:e.commentId,comment:e,replies:y(e.commentId)}))}():function(){var a;return o.a.createElement(p.a,{py:1,key:e.commentId},o.a.createElement(p.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},o.a.createElement(C.a,{variant:"h6"},"Comment ".concat(t+1)),o.a.createElement(p.a,{py:1}),(null===(a=u.selectedComment)||void 0===a?void 0:a.commentId)===e.commentId?o.a.createElement(C.a,{variant:"body1",color:"secondary"},"Current Selection"):o.a.createElement("div",null)),o.a.createElement(p.a,{mb:1}),o.a.createElement(R,{key:e.commentId,comment:e,replies:y(e.commentId)}))}()})))),o.a.createElement(Fe.a,null,o.a.createElement(p.a,{display:"flex",flexDirection:"column",width:"100%"},o.a.createElement(f.a,{className:E.button,color:"secondary",fullWidth:!0,onClick:n},d)))))},Je=Object(d.a)({root:{position:"fixed",width:"100%",bottom:0,zIndex:100,backgroundImage:"linear-gradient(to top, rgba(35, 57, 255, 0.5) 10%, rgba(0, 0, 0, 0.3)) 90%"}}),Be=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1],c=o.a.useState(!1),r=Object(i.a)(c,2),m=r[0],s=r[1],d=Je();return o.a.createElement("div",{className:d.root},o.a.createElement(p.a,{display:"flex",justifyContent:"space-between",p:2},o.a.createElement(f.a,{onClick:function(){return s(!0)}},"View Current State"),o.a.createElement("div",null)),o.a.createElement(p.a,null,o.a.createElement(Ze,{isOpen:m||a.isSelectedCommentDialogOpen,handleOk:function(){a.isSelectedCommentDialogOpen&&n({type:_.SET_SELECTED_COMMENT_DIALOG_OPEN,payload:{isOpen:!1}}),s(!1)},title:"Current State",subtitle:a.isSelectedCommentDialogOpen?"The current state of your selected comment and its replies.":"The curent state of your comments and replies.",okLabel:"Close"})))},Qe=a(611),Xe=function(){return o.a.createElement(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"50vh"},o.a.createElement(Qe.a,{color:"secondary"}))},qe=["Comment Create","Comment Get","Comment Update","Comment Delete","Comment Vote","Comment Flag"],Ke=[o.a.createElement(ge,null),o.a.createElement(_e,null),o.a.createElement(je,null),o.a.createElement(ke,null),o.a.createElement(we,null),o.a.createElement(Ye,null)],$e=function(e){var t=e.tabValueState,a=Object(l.useContext)(Ee)[0];return o.a.createElement(o.a.Fragment,null,!a.commentsLoaded&&a.loading?o.a.createElement(Xe,null):a.commentsLoaded&&Ke.map((function(e,a){return o.a.createElement(J,{key:qe[a],tabIndex:a,activeTabIndex:t[0]},e)})),o.a.createElement(Be,null))},et=["POST /comments/:commentId/replies"],tt=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1],c="";return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:et,heading:"Create a reply",subtitle:"Comments can always be responded to."}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment you'd like to create a reply for.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"What are you thinking about? Write it in the box below.")),o.a.createElement(p.a,{display:"flex",flexDirection:"column",mt:1},o.a.createElement(B.a,{rowsMin:5,rowsMax:5,onChange:function(e){c=e.target.value}})),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment,onClick:function(){var e;n({type:_.CREATE_REPLY,payload:{commentId:null===(e=a.selectedComment)||void 0===e?void 0:e.commentId,createReplyDTO:{content:c}}})}},a.loading?"Please Wait...":"Create Reply")))},at=["GET /comments/:commentId/replies"],nt=Object(d.a)((function(e){return{root:{display:"grid"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),lt=function(){var e,t,a=Object(l.useContext)(Ee),n=Object(i.a)(a,2),c=n[0],r=n[1],m=Object(l.useState)(0),s=Object(i.a)(m,2),d=s[0],u=s[1],E=Object(l.useState)(""),y=Object(i.a)(E,2),g=y[0],b=y[1],v=Object(l.useState)(""),I=Object(i.a)(v,2),T=I[0],h=I[1],S=Object(l.useState)(""),R=Object(i.a)(S,2),x=R[0],D=R[1],M=nt();return o.a.createElement(p.a,null,o.a.createElement(Q,{endpoints:at,heading:"GET all replies",subtitle:"Need to get some replies?"}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment to access for its replies.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Need to filter, sort, or paginate on a list of replies? No problem.")),o.a.createElement(O.a,{container:!0,spacing:2},o.a.createElement(O.a,{className:M.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:M.formControl},o.a.createElement(be.a,{value:d,onChange:function(e){u(e.target.value)},displayEmpty:!0,className:M.selectEmpty,inputProps:{"aria-label":"selected flag state"}},o.a.createElement(ve.a,{value:0},"All"),o.a.createElement(ve.a,{value:1},"Flagged"),o.a.createElement(ve.a,{value:2},"Unflagged")),o.a.createElement(Oe.a,null,"By Flag State"))),o.a.createElement(O.a,{className:M.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:M.formControl},o.a.createElement(be.a,{value:g,onChange:function(e){b(e.target.value)},displayEmpty:!0,className:M.selectEmpty,inputProps:{"aria-label":"selected owner ID"}},o.a.createElement(ve.a,{value:""},"All"),o.a.createElement(ve.a,{value:"you@gmail.com"},"you@gmail.com")),o.a.createElement(Oe.a,null,"By Owner ID")))),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Or do you need to sort or paginate on a list of replies? It's still not a problem.")),o.a.createElement(O.a,{container:!0,spacing:2},o.a.createElement(O.a,{className:M.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:M.formControl},o.a.createElement(be.a,{value:T,onChange:function(e){h(e.target.value)},displayEmpty:!0,className:M.selectEmpty,inputProps:{"aria-label":"selected sort"}},o.a.createElement(ve.a,{value:""},"None"),o.a.createElement(ve.a,{value:"asc"},"Ascending"),o.a.createElement(ve.a,{value:"desc"},"Descending")),o.a.createElement(Oe.a,null,"Sort"))),o.a.createElement(O.a,{className:M.root,item:!0,xs:6},o.a.createElement(Ce.a,{className:M.formControl},o.a.createElement(be.a,{value:x,onChange:function(e){D(e.target.value)},displayEmpty:!0,className:M.selectEmpty,inputProps:{"aria-label":"selected page"}},o.a.createElement(ve.a,{value:""},"None")),o.a.createElement(Oe.a,null,"Page")))),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:6},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:c.loading||void 0===c.selectedComment||0===(null===(e=c.selectedComment)||void 0===e?void 0:e.numOfReplies),onClick:function(){var e,t,a,n;c.selectedComment&&(0!==d&&(e=1===d),""!==g&&(t=g),""!==T&&(a=T),""!==x&&(n=x),r({type:_.GET_ALL_REPLIES,payload:{commentId:c.selectedComment.commentId,pageQuery:{isFlagged:e,ownerId:t,sort:a,page:n}}}))}},c.loading?"Please Wait...":0===(null===(t=c.selectedComment)||void 0===t?void 0:t.numOfReplies)?"No Reply":"Get All Replies")))},ot=Object(d.a)((function(e){return{root:{display:"grid"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),ct=function(){var e,t,a,n=Object(l.useContext)(Ee),c=Object(i.a)(n,2),r=c[0],m=c[1],s=ot();return o.a.createElement(o.a.Fragment,null,r.selectedComment?o.a.createElement(Ce.a,{className:s.formControl},o.a.createElement(be.a,{value:null!==(e=null===(t=r.selectedReply)||void 0===t?void 0:t.replyId)&&void 0!==e?e:"",onChange:function(e){m({type:_.SET_SELECTED_REPLY,payload:{replyId:e.target.value}})},displayEmpty:!0,className:s.selectEmpty,inputProps:{"aria-label":"selected reply ID"}},r.selectedCommentReplies&&(null===(a=r.selectedCommentReplies)||void 0===a?void 0:a.length)>0?r.selectedCommentReplies.map((function(e){return o.a.createElement(ve.a,{value:e.replyId,key:e.replyId},e.replyId.slice(0,7))})):o.a.createElement(ve.a,{value:"No Reply"},"No Reply")),o.a.createElement(Oe.a,null,"Selected Reply")):o.a.createElement(p.a,{display:"flex",justifyContent:"center"},o.a.createElement(C.a,{variant:"overline",align:"center"},"A SELECTED COMMENT IS REQURED")))},rt=["GET /comments/:commentId/replies/:replyId"],mt=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(p.a,{mt:12,mb:1},o.a.createElement(Q,{endpoints:rt,heading:"GET a single reply",subtitle:"Need to get a specific reply?"}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment to access for its replies.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a reply you'd like to update.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(ct,null)),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment||void 0===a.selectedReply,onClick:function(){a.selectedComment&&a.selectedReply&&n({type:_.GET_REPLY,payload:{commentId:a.selectedComment.commentId,replyId:a.selectedReply.replyId}})}},a.loading?"Please Wait...":void 0===a.selectedReply?"No Reply":"Get Reply")))},it=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(lt,null),o.a.createElement(mt,null))},st=["PATCH /comments/:commentId/replies/:replyId"],dt=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(""),r=Object(i.a)(c,2),m=r[0],s=r[1];Object(l.useEffect)((function(){a.selectedReply&&s(a.selectedReply.content)}),[a.selectedReply]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:st,heading:"Update a reply",subtitle:"Sometimes we need to make some changes."}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment to access for its replies.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a reply you'd like to update.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(ct,null)),o.a.createElement(p.a,{mt:6},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Didn't respond exactly how you liked? Make a update.")),o.a.createElement(p.a,{display:"flex",flexDirection:"column",mt:1},o.a.createElement(B.a,{rowsMin:5,rowsMax:5,value:m,onChange:function(e){s(e.target.value)}})),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedReply,onClick:function(){a.selectedComment&&a.selectedReply&&n({type:_.UPDATE_REPLY,payload:{commentId:a.selectedComment.commentId,replyId:a.selectedReply.replyId,updateReplyDTO:{content:m}}})}},a.loading?"Please Wait...":void 0===a.selectedReply?"No Reply":"Update Reply")))},ut=["DELETE /comments/:commentId/replies/:replyId"],Et=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:ut,heading:"Delete a reply",subtitle:"Then there are those times where deletion is required."}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment to access for its replies.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a reply you'd like to delete.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(ct,null)),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment||void 0===a.selectedReply,onClick:function(){a.selectedComment&&a.selectedReply&&n({type:_.DELETE_REPLY,payload:{commentId:a.selectedComment.commentId,replyId:a.selectedReply.replyId}})}},a.loading?"Please Wait...":void 0===a.selectedReply?"No Reply":"Delete Reply")))},pt=["PATCH /comments/:commentId/replies/:replyId/votes/upvote","PATCH /comments/:commentId/replies/:replyId/votes/downvote"],yt=["Upvote","Downvote"],ft=Object(d.a)({root:{width:"100%",display:"grid"}}),gt=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(yt[0]),r=Object(i.a)(c,2),m=r[0],s=r[1],d=ft();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:pt,heading:"Vote on a reply",subtitle:"Was it a really good reply? Show your appreciation."}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment to access for its replies.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a reply you'd like to vote on.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(ct,null)),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select the vote type you'd like to make on the reply.")),o.a.createElement(O.a,{container:!0,spacing:2},yt.map((function(e){return o.a.createElement(O.a,{className:d.root,item:!0,xs:6,key:e},o.a.createElement(f.a,{variant:m===e?"contained":"outlined",onClick:function(){return s(e)}},e))}))),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment||void 0===a.selectedReply,onClick:function(){if(a.selectedComment&&a.selectedReply){var e=m===yt[0]?_.UPVOTE_REPLY:_.DOWNVOTE_REPLY;n({type:e,payload:{commentId:a.selectedComment.commentId,replyId:a.selectedReply.replyId}})}}},a.loading?"Please Wait...":void 0===a.selectedReply?"No Reply":m===yt[0]?"Upvote Reply":"Downvote Reply")))},Ct=["PATCH /comments/:commentId/replies/:replyId/flag"],bt=function(){var e=Object(l.useContext)(Ee),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{endpoints:Ct,heading:"Flag a reply",subtitle:"Didn\u2019t like a reply? Do something about it."}),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a comment to access for its replies.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(Re,null)),o.a.createElement(p.a,{mt:6,mb:1},o.a.createElement(C.a,{variant:"body2",align:"center",color:"textSecondary"},"Select a reply you'd like to flag.")),o.a.createElement(p.a,{mb:1,display:"flex",justifyContent:"center"},o.a.createElement(ct,null)),o.a.createElement(p.a,{display:"flex",flexDirection:"column",alignItems:"center",mt:4},o.a.createElement(f.a,{variant:"contained",color:"secondary",disabled:a.loading||void 0===a.selectedComment||void 0===a.selectedReply,onClick:function(){a.selectedComment&&a.selectedReply&&n({type:_.FLAG_REPLY,payload:{commentId:a.selectedComment.commentId,replyId:a.selectedReply.replyId}})}},a.loading?"Please Wait...":void 0===a.selectedReply?"No Reply":"Flag Reply")))},vt=["Reply Create","Reply Get","Reply Update","Reply Delete","Reply Vote","Reply Flag"],Ot=[o.a.createElement(tt,null),o.a.createElement(it,null),o.a.createElement(dt,null),o.a.createElement(Et,null),o.a.createElement(gt,null),o.a.createElement(bt,null)],It=function(e){var t=e.tabValueState,a=Object(l.useContext)(Ee)[0];return o.a.createElement(o.a.Fragment,null,!a.repliesLoaded&&a.loading?o.a.createElement(Xe,null):a.repliesLoaded&&Ot.map((function(e,a){return o.a.createElement(J,{key:vt[a],tabIndex:a,activeTabIndex:t[0]},e)})),o.a.createElement(Be,null))},Tt=a(266),ht=Object(Tt.a)({palette:{primary:{main:"#FFFFFF"},secondary:{main:"#2339FF"}},typography:{fontFamily:"Rosario",fontSize:13,button:{textTransform:"none"}},shape:{borderRadius:8},overrides:{MuiCssBaseline:{"@global":{body:{backgroundColor:"white"},html:{overflow:"-moz-scrollbars-vertical",overflowY:"scroll"}}}}}),St=function(){switch(Object(s.g)().pathname){case N.Comments:return new ce(N.Comments);case N.Replies:return new ce(N.Replies);case N.Home:default:return new ce(N.Home)}},Rt=["Comment Create","Comment Get","Comment Update","Comment Delete","Comment Vote","Comment Flag"],xt=["Reply Create","Reply Get","Reply Update","Reply Delete","Reply Vote","Reply Flag"],Dt=function(e){var t,a=!0;return e.path===N.Comments?t=Rt:e.path===N.Replies?t=xt:(t=[],a=!1),[t,a]},_t=function(e){var t,a,n=Object(l.useState)(0),o=Object(i.a)(n,2),c=o[0],r=o[1],m=Object(l.useState)(0),s=Object(i.a)(m,2),d=s[0],u=s[1];return e.path===N.Comments?(t=c,a=r):e.path===N.Replies?(t=d,a=u):(t=0,a=function(){return null}),[t,a]},Mt=Object(d.a)((function(e){return{root:{backgroundColor:e.palette.background.paper}}}));var jt=function(){var e=Mt(),t=St(),a=Dt(t),n=Object(i.a)(a,2),l=n[0],c=n[1],r=_t(t);return o.a.createElement(u.a,{theme:ht},o.a.createElement(E.a,null),o.a.createElement("div",{className:e.root},o.a.createElement(G,{currentRoute:t},c&&o.a.createElement(Z,{tabLabels:l,tabValueState:r})),o.a.createElement(ye,null,o.a.createElement(s.d,null,o.a.createElement(s.b,{exact:!0,path:"/"},o.a.createElement(s.a,{to:N.Home})),o.a.createElement(s.b,{exact:!0,path:N.Home},o.a.createElement(A,null)),o.a.createElement(s.b,{path:N.Comments},o.a.createElement($e,{tabValueState:r})),o.a.createElement(s.b,{path:N.Replies},o.a.createElement(It,{tabValueState:r}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m.a,null,o.a.createElement(jt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[282,1,2]]]);
//# sourceMappingURL=main.7877c6bd.chunk.js.map